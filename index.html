<!-- index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ハート型QRコードジェネレーター</title>
  <link rel="stylesheet" href="style.css" />

  <!-- QR生成ライブラリ（qrcode-generator） -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
</head>
<body>
  <main class="wrap">
    <header class="header">
      <h1>ハート型QRコード生成</h1>
      <p class="sub">URLからハート型のQRコードを作成し、PNGでダウンロードできます（誤り訂正：H / 背景：白固定）。</p>
    </header>

    <section class="card">
      <form id="form" class="form" novalidate>
        <div class="grid">
          <label class="field col-2">
            <span>URL（必須 / 最大300文字）</span>
            <input id="urlInput" type="text" maxlength="300" placeholder="https://example.com" autocomplete="off" />
          </label>

          <label class="field">
            <span>QRの色</span>
            <select id="colorSelect">
              <option value="#111111">黒</option>
              <option value="#E53935">赤</option>
              <option value="#1E88E5">青</option>
              <option value="#43A047">緑</option>
              <option value="#FB8C00">オレンジ</option>
              <option value="#8E24AA">紫</option>
              <option value="#00897B">青緑</option>
              <option value="#D81B60" selected>マゼンタ</option>
            </select>
          </label>

          <label class="field">
            <span>ハート強調色</span>
            <select id="heartColorSelect">
              <option value="#111111">黒</option>
              <option value="#E53935" selected>赤</option>
              <option value="#1E88E5">青</option>
              <option value="#43A047">緑</option>
              <option value="#FB8C00">オレンジ</option>
              <option value="#8E24AA">紫</option>
              <option value="#00897B">青緑</option>
              <option value="#D81B60">マゼンタ</option>
            </select>
          </label>

          <label class="field">
            <span>背景柄</span>
            <select id="bgPatternSelect">
              <option value="none">なし</option>
              <option value="dots">ドット</option>
              <option value="stripes" selected>斜めストライプ</option>
              <option value="grid">チェック</option>
              <option value="noise">紙っぽい</option>
            </select>
          </label>

          <label class="field">
            <span>背景柄の色（薄め推奨）</span>
            <select id="bgPatternColorSelect">
              <option value="rgba(0,0,0,0.06)">薄い黒</option>
              <option value="rgba(229,57,53,0.08)">薄い赤</option>
              <option value="rgba(30,136,229,0.08)">薄い青</option>
              <option value="rgba(67,160,71,0.08)">薄い緑</option>
              <option value="rgba(0,0,0,0.10)" selected>やや濃い黒</option>
            </select>
          </label>

          <label class="field">
            <span>サイズ</span>
            <select id="sizeSelect">
              <option value="512">512px</option>
              <option value="768" selected>768px</option>
              <option value="1024">1024px</option>
              <option value="1280">1280px</option>
            </select>
          </label>
        </div>

        <div class="row">
          <button class="btn primary" type="submit">生成</button>
          <button class="btn" id="downloadBtn" type="button" disabled>PNGダウンロード</button>
        </div>

        <p id="error" class="error" aria-live="polite"></p>
        <p class="meta"><span id="metaText">未生成</span></p>
      </form>
    </section>

    <section class="card preview">
      <div class="canvasWrap">
        <canvas id="qrCanvas" width="768" height="768" aria-label="QR preview"></canvas>
      </div>
      <p class="hint">
        読み取りテストは、まずスマホ標準カメラで。読めない場合は「サイズを上げる」「URLを短くする」「ハート強調色を濃くする」を試してください。
      </p>
    </section>

    <footer class="footer">
      <small>背景色は白固定。位置検出パターン（3つの角）は破壊しない設計です。</small>
    </footer>
  </main>

  <script src="script.js"></script>
</body>
</html>
